@page
@model ForumSite.Areas.Identity.Pages.Account.Manage.InboxModel
@{
}
@inject UserManager<User> userManager

<table class="table">

    <tr>
        <th>From</th>
        <th>Message</th>
    </tr>
    @foreach (var message in Model.PersonalMessages)
    {
        <tr>
            <td>@userManager.FindByIdAsync(message.FromUserId).Result.UserName</td>
            <td>@message.Message</td>
            <td><a asp-route-username="@userManager.FindByIdAsync(message.FromUserId).Result.UserName" asp-route-id=">@userManager.FindByIdAsync(message.FromUserId).Result.Id" asp-page="/forum/SendPersonalMessage">Reply</a></td>
        </tr>
    }
</table>