@page
@using Microsoft.AspNetCore.Identity
@using _9Chan.Core.Models
@inject SignInManager<User> SignInManager
@model ForumSite.Pages.Forum.PostModel
@{
}
@foreach (var post in Model.Posts)
{
    <h6>@post.User.Email</h6>
    <p>@post.DatePosted</p>
    <p>@post.PostText</p>
    <div class="btn-group" role="group">
        @if (SignInManager.IsSignedIn(User))
        {
            <p align="right"><a asp-route-id="@post.Id" asp-page="ConfirmReport">Report</a></p>
            <p align="right"><a asp-route-id="@post.User.Id" asp-route-username="@post.User.UserName" asp-page="SendPersonalMessage">PM</a></p>
        }

    </div>
}

@if (SignInManager.IsSignedIn(User))
{
    <h3>Create New Post</h3>
    <form method="post">
        <div class="input-group flex-nowrap">
            <span class="input-group-text" id="addon-wrapping">Title</span>
            <input type="text" asp-for="@Model.InputPost.InputText" class="form-control" placeholder="Title" aria-label="Title" aria-describedby="addon-wrapping">
        </div>

        <hr />

        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
}